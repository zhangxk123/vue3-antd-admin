"use strict";(self.webpackChunkvue3_antd_admin=self.webpackChunkvue3_antd_admin||[]).push([[124],{85871:function(e,a,t){t.a(e,(async function(e,l){try{t(93300);var o=t(96461),r=(t(12431),t(66900)),n=(t(84324),t(95878)),s=t(66252),u=t(2262),c=t(3577),d=t(48103),i=t(83433),m=t(2837),f=e([i]);i=(f.then?(await f)():f)[0];const w={class:"sys-server-stat-container"},U={class:"disk-info"},v={class:"disk-info--item"},S={class:"disk-info"},Z={class:"disk-info--item"},k={name:"SystemMonitorServe"};a.Z=(0,s.aZ)({...k,setup(e){let a=-1;const t=(0,u.qj)({runtime:{os:"",arch:"",nodeVersion:"",npmVersion:""},disk:{size:0,used:0,available:0},memory:{total:0,available:0},cpu:{manufacturer:"",brand:"",physicalCores:0,model:"",speed:0,rawCurrentLoad:0,rawCurrentLoadIdle:0,coresLoad:[]}}),{runtime:l,disk:f,memory:k,cpu:b}=(0,u.BK)(t),_=(0,s.Fl)((()=>({size:(0,d.GR)(f.value.size),used:(0,d.GR)(f.value.used),available:(0,d.GR)(f.value.available)}))),p=(0,s.Fl)((()=>({total:(0,d.GR)(k.value.total),free:(0,d.GR)(k.value.available),used:(0,d.GR)(k.value.total-k.value.available)}))),P=(0,s.Fl)((()=>f.value.size<=0?0:Math.floor(f.value.used/f.value.size*100))),W=(0,s.Fl)((()=>k.value.total<=0?0:Math.floor((k.value.total-k.value.available)/k.value.total*100))),h=(0,s.Fl)((()=>`${b.value.manufacturer} ${b.value.brand} @ ${b.value.speed}GHz`)),y=async()=>{const e=await(0,i.P)();l.value=e.runtime,f.value=e.disk,k.value=e.memory,b.value=e.cpu};y();const z=e=>e<30?"#5cb87a":e<70?"#e6a23c":"#f53f3f",I=(e,a)=>a<=0?0:Math.floor(e/a*100);return(0,s.bv)((()=>{a=setInterval(y,1e4)})),(0,s.Jd)((()=>{clearInterval(a)})),(e,a)=>((0,s.wg)(),(0,s.iD)("div",w,[(0,s.Wm)((0,u.SU)(n.ZP),{class:"stat-card",title:"运行环境"},{default:(0,s.w5)((()=>[(0,s.Wm)((0,u.SU)(r.ZP),{column:1,"label-style":{width:"50%"}},{default:(0,s.w5)((()=>[(0,s.Wm)((0,u.SU)(r.ZP).Item,{label:"操作系统"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,u.SU)(l).os),1)])),_:1}),(0,s.Wm)((0,u.SU)(r.ZP).Item,{label:"系统架构"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,u.SU)(l).arch),1)])),_:1}),(0,s.Wm)((0,u.SU)(r.ZP).Item,{label:"Node版本"},{default:(0,s.w5)((()=>[(0,s.Wm)((0,u.SU)(o.ZP),{color:"processing",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("v"+(0,c.zw)((0,u.SU)(l).nodeVersion),1)])),_:1})])),_:1}),(0,s.Wm)((0,u.SU)(r.ZP).Item,{label:"NPM版本"},{default:(0,s.w5)((()=>[(0,s.Wm)((0,u.SU)(o.ZP),{color:"processing",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("v"+(0,c.zw)((0,u.SU)(l).npmVersion),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)((0,u.SU)(n.ZP),{class:"stat-card",title:"CPU"},{default:(0,s.w5)((()=>[(0,s.Wm)((0,u.SU)(r.ZP),{column:1,"label-style":{width:"50%"},"content-style":{width:"50%"}},{default:(0,s.w5)((()=>[(0,s.Wm)((0,u.SU)(r.ZP).Item,{label:"详细"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,u.SU)(h)),1)])),_:1}),(0,s.Wm)((0,u.SU)(r.ZP).Item,{label:"负载"},{default:(0,s.w5)((()=>[(0,s.Wm)(m.Z,{percent:I((0,u.SU)(b).rawCurrentLoad,(0,u.SU)(b).rawCurrentLoadIdle+(0,u.SU)(b).rawCurrentLoad),"stroke-color":z},null,8,["percent"])])),_:1}),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,u.SU)(b).coresLoad,((e,a)=>((0,s.wg)(),(0,s.j4)((0,u.SU)(r.ZP).Item,{key:a,label:`核心${a+1} 负载`},{default:(0,s.w5)((()=>[(0,s.Wm)(m.Z,{percent:I(e.rawLoad,e.rawLoad+e.rawLoadIdle),"stroke-color":z},null,8,["percent"])])),_:2},1032,["label"])))),128))])),_:1})])),_:1}),(0,s.Wm)((0,u.SU)(n.ZP),{class:"stat-card",title:"磁盘"},{default:(0,s.w5)((()=>[(0,s._)("div",U,[(0,s.Wm)((0,u.SU)(r.ZP),{class:"disk-info--item",column:1},{default:(0,s.w5)((()=>[(0,s.Wm)((0,u.SU)(r.ZP).Item,{label:"总空间"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,u.SU)(_).size),1)])),_:1}),(0,s.Wm)((0,u.SU)(r.ZP).Item,{label:"已用空间"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,u.SU)(_).used),1)])),_:1}),(0,s.Wm)((0,u.SU)(r.ZP).Item,{label:"可用空间"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,u.SU)(_).available),1)])),_:1})])),_:1}),(0,s._)("div",v,[(0,s.Wm)(m.Z,{type:"dashboard",percent:(0,u.SU)(P),width:100,"stroke-color":z},null,8,["percent"])])])])),_:1}),(0,s.Wm)((0,u.SU)(n.ZP),{class:"stat-card",title:"内存"},{default:(0,s.w5)((()=>[(0,s._)("div",S,[(0,s.Wm)((0,u.SU)(r.ZP),{class:"disk-info--item",column:1},{default:(0,s.w5)((()=>[(0,s.Wm)((0,u.SU)(r.ZP).Item,{label:"总内存"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,u.SU)(p).total),1)])),_:1}),(0,s.Wm)((0,u.SU)(r.ZP).Item,{label:"已用内存"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,u.SU)(p).used),1)])),_:1}),(0,s.Wm)((0,u.SU)(r.ZP).Item,{label:"可用内存"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,c.zw)((0,u.SU)(p).free),1)])),_:1})])),_:1}),(0,s._)("div",Z,[(0,s.Wm)(m.Z,{type:"dashboard",percent:(0,u.SU)(W),width:100,"stroke-color":z},null,8,["percent"])])])])),_:1})]))}}),l()}catch(e){l(e)}}))},83433:function(e,a,t){t.a(e,(async function(e,l){try{t.d(a,{P:function(){return s}});var o=t(22586),r=t(87805),n=e([o]);function s(){return(0,o.W)({url:r.default.stat,method:"get"})}o=(n.then?(await n)():n)[0],l()}catch(u){l(u)}}))},2837:function(e,a,t){t.d(a,{Z:function(){return c}});t(63197);var l=t(84662),o=t(66252),r=t(2262),n=t(3577),s=t(98029),u=(0,o.aZ)({props:{...(0,s.O)(),strokeColor:{type:[String,Object,Function]}},setup(e){const a=e,t=(0,o.Fl)((()=>"function"==typeof a.strokeColor?{...a,strokeColor:a.strokeColor(a.percent)}:{...a,strokeColor:a.strokeColor}));return(e,a)=>((0,o.wg)(),(0,o.j4)((0,r.SU)(l.Z),(0,n.vs)((0,o.F4)((0,r.SU)(t))),null,16))}});var c=u},91124:function(e,a,t){t.a(e,(async function(e,l){try{t.r(a);var o=t(97482),r=(t(48244),t(83744)),n=e([o]);o=(n.then?(await n)():n)[0];const s=(0,r.Z)(o.Z,[["__scopeId","data-v-7f8ff890"]]);a.default=s,l()}catch(e){l(e)}}))},97482:function(e,a,t){t.a(e,(async function(e,l){try{t.d(a,{Z:function(){return o.Z}});var o=t(85871),r=e([o]);o=(r.then?(await r)():r)[0],l()}catch(e){l(e)}}))},48244:function(){}}]);